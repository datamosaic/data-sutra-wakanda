
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Themes Â· Sutra CMS</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-versions/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-vuejs/vue.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="pages.html" />
    
    
    <link rel="prev" href="overview.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../overview.html">
            
                <a href="../overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Installation
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../installation/developer.html">
            
                <a href="../installation/developer.html">
            
                    
                    Developer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../installation/developer-old.html">
            
                <a href="../installation/developer-old.html">
            
                    
                    Old Instructions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../installation/server.html">
            
                <a href="../installation/server.html">
            
                    
                    Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Developer Guide
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../developer-guide/organization.html">
            
                <a href="../developer-guide/organization.html">
            
                    
                    Organization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../developer-guide/architecture.html">
            
                <a href="../developer-guide/architecture.html">
            
                    
                    Architecture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../developer-guide/logic-flow.html">
            
                <a href="../developer-guide/logic-flow.html">
            
                    
                    Logic Flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../developer-guide/api.html">
            
                <a href="../developer-guide/api.html">
            
                    
                    API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../developer-guide/url-scheme.html">
            
                <a href="../developer-guide/url-scheme.html">
            
                    
                    URL Scheme
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../developer-guide/git.html">
            
                <a href="../developer-guide/git.html">
            
                    
                    Git
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../developer-guide/naming-conventions.html">
            
                <a href="../developer-guide/naming-conventions.html">
            
                    
                    Naming Conventions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="overview.html">
            
                <a href="overview.html">
            
                    
                    Bootstrap CMS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.5.1" data-path="themes.html">
            
                <a href="themes.html">
            
                    
                    Themes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="pages.html">
            
                <a href="pages.html">
            
                    
                    Pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="sections.html">
            
                <a href="sections.html">
            
                    
                    Sections
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Themes</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="themes">Themes</h1>
<!-- toc -->
<ul>
<li><a href="#setup">Setup</a><ul>
<li><a href="#new-template-file">New template file</a></li>
<li><a href="#register-theme-with-kabootit">Register theme with Kabootit</a></li>
</ul>
</li>
<li><a href="#cutting-a-theme-template">Cutting a theme template</a><ul>
<li><a href="#wakanda">Wakanda</a></li>
<li><a href="#section-tags">Section tags</a></li>
</ul>
</li>
<li><a href="#browser-quirks-handling">Browser quirks handling</a></li>
</ul>
<!-- tocstop -->
<p>A theme is a collection of static html files (layouts) that have been
adapted to allow Kabootit to fill with application pieces (widgets,
components, templates, html snippets, etc). Each page of an app requires
a theme layout to provide the base starting point for the page.</p>
<p>Theme layouts start off as static html files. These files can be custom
built by designers or chosen from among the many available themes on the
web. A complete theme typically includes several html files for various
layout options and all of the resources&#x2014;images, css and javascript&#x2014;that
go into making the theme layouts look and behave as intended. Examples:</p>
<ol>
<li><a href="http://preview.jumpstartthemes.com/canvas-admin/" target="_blank">http://preview.jumpstartthemes.com/canvas-admin/</a></li>
<li><a href="http://mars.pinsupreme.com/" target="_blank">http://mars.pinsupreme.com/</a></li>
<li><a href="http://wrapbootstrap.com/preview/WB0F35928" target="_blank">http://wrapbootstrap.com/preview/WB0F35928</a></li>
</ol>
<p>The process of adapting a theme for Kabootit is quite simple. Because it
requires few modifications to the original static html files, the design
process can easily be iterated on while a site is in development (and
even in production).</p>
<p>The theme abstraction allows designers to do what they do best&#x2014;without
impeding the efforts of programmers and content experts. Said another
way&#x2014;themes remove the burden of design from programmers!</p>
<h2 id="setup">Setup</h2>
<p>A theme is an entire directory of html files with all resources files
included in sub directories. Kabootit is not opinionated about the
directory structure inside of a theme directory as long as everything
resolves properly in the html files.</p>
<p>Put entire themes (along with all resources) in
<code>~/Documents/Wakanda/Themes/&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project_name</span><span class="token punctuation">&gt;</span></span>&gt;/&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>theme_name</span><span class="token punctuation">&gt;</span></span>&gt;</code> directory.
All resources in Wakanda&#x2019;s <code>THEMES_CUSTOM</code> path can be served up by the
web server as if they were in any project&#x2019;s <code>WebFolder</code> directory.</p>
<p>Add a json file to the top level theme directory called <code>kabootit.json</code>
that describes your theme. This meta data is not required currently but
could be used for automatically registering themes with Kabootit in the
future. Example:</p>
<pre class="language-"><code>{
    &quot;name&quot; :        &quot;Quickstart&quot;,
    &quot;description&quot; :     &quot;A default Kabootit theme&quot;
}
</code></pre><p><s>To use in a project, copy a theme directory to the
<code>/WebFolder/themes</code> directory. This manual step will go away
once:</s></p>
<p><s>TODO: http listener per project that listens for <code>/theme/...</code> and
reads in resources from original location location and returns them in
correct encoding (text, images, video). Some helpful code:
<a href="http://community.data-sutra.com/projects/kabootit/wiki/Routing\#Wakanda-Ideas" target="_blank">http://community.data-sutra.com/projects/kabootit/wiki/Routing\#Wakanda-Ideas</a></s></p>
<p>(Note: all files and resources in <code>THEMES_CUSTOM</code> path can now be served
up by the web server as if they were in any project&#x2019;s <code>WebFolder</code>
directory)</p>
<h3 id="new-template-file">New template file</h3>
<p># choose an html file from your template (theoretically could be other
file types as well) as your starting point and duplicate it to either</p>
<pre class="language-"><code>* @{{Project}}/WebFolder/src/templates/&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>templateName</span><span class="token punctuation">&gt;</span></span>&gt;/@ or
* @Themes/&lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>themeName</span><span class="token punctuation">&gt;</span></span>&gt;/templates/@
</code></pre><ol>
<li>change extension of file from &#x201C;.html&#x201D; (or whatever) to &#x201C;.tpl&#x201D;</li>
</ol>
<h3 id="register-theme-with-kabootit">Register theme with Kabootit</h3>
<p>All newly added themes need to be added to the
<code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>IDE</span><span class="token punctuation">&gt;</span></span>/Resources/Web Components/GUIDesigner/scripts/designer/kabootit-run.js</code>
file. Look for this line of code:</p>
<pre class="language-"><code>{
    name:&quot;data-kabootit-theme&quot;,
    description:&quot;Theme&quot;,
    type:&quot;dropdown&quot;,
    defaultValue:&quot;Quickstart&quot;,options:[&quot;Quickstart&quot;,&quot;Sphere&quot;,&quot;On-the-Go Admin&quot;,&quot;Serenity&quot;],
    category:&apos;Kabootit&apos;
}
</code></pre><h2 id="cutting-a-theme-template">Cutting a theme template</h2>
<h3 id="wakanda">Wakanda</h3>
<p><em>1. Footer</em></p>
<p>Add wakanda loader just before closing body tag (note the &#x201C;async&#x201D;):</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/waLib/WAF/Loader.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><p><em>2. Header</em></p>
<p>Replace the current <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>..</code> tag line with:</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{{title}}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
</code></pre><p>Add the following just before the closing head tag:</p>
<pre class="language-"><code><span class="token comment" spellcheck="true">&lt;!-- Wakanda --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>WAF.packageJson<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
{{{ models }}}      
{{{ datasources }}}
{{{ modules }}}
</code></pre><p><em>3. Resources</em></p>
<p>Link up resources by inserting the a &#x201C;link&#x201D; tag into all resource
references:</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>css/bootstrap.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

// becomes

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{{{ resources }}}/css/bootstrap.min.css<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 
</code></pre><p><em>4. JavaScript Loader</em></p>
<p>The WAF Loader file added into the footer can bring in all other
javascript source files as well. Best practices is to flag all
javascript to be brought in by the loader. However, if your javascript
relies on jQuery, it must be brought in with the loader.</p>
<p>Insert an attribute named kabootit with value package.json into all
script tags.</p>
<pre class="language-"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>{{{ resources }}}/resources/js/bootstrap.min.js<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

// becomes

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">kabootit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>package.json<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&apos;</span>{{{ resources }}}/resources/js/bootstrap.min.js<span class="token punctuation">&apos;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><h3 id="section-tags">Section tags</h3>
<p>For all sections that you want to abstract with server-side rendering at
runtime, insert mustachejs tags into the the html markup at the
appropriate location. Use triple braces so html is not converted to
entities. Example:</p>
<pre class="language-"><code><span class="token comment" spellcheck="true">&lt;!-- Header Starts --&gt;</span>
{{{ navigation }}}
<span class="token comment" spellcheck="true">&lt;!-- Header Ends --&gt;</span>
</code></pre><p>In the <a href="http://community.data-sutra.com/projects/kabootit/wiki/Pages#Properties" target="_blank">page</a> file properties, you will map section tags to specific
files. These files are located either in the <code>pages</code> directory
(non-shared sections) or the <code>views</code> directory (shared sections).</p>
<h2 id="browser-quirks-handling">Browser quirks handling</h2>
<ol>
<li>Nexus 7 screen pixel density very high. Need to zoom in a bit by
default:
<a href="http://developer.android.com/guide/webapps/targeting.html\#ViewportDensity" target="_blank">http://developer.android.com/guide/webapps/targeting.html\#ViewportDensity</a></li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="overview.html" class="navigation navigation-prev " aria-label="Previous page: Bootstrap CMS">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="pages.html" class="navigation navigation-next " aria-label="Next page: Pages">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Themes","level":"1.5.1","depth":2,"next":{"title":"Pages","level":"1.5.2","depth":2,"path":"cms/pages.md","ref":"cms/pages.md","articles":[]},"previous":{"title":"Bootstrap CMS","level":"1.5","depth":1,"path":"cms/overview.md","ref":"cms/overview.md","articles":[{"title":"Themes","level":"1.5.1","depth":2,"path":"cms/themes.md","ref":"cms/themes.md","articles":[]},{"title":"Pages","level":"1.5.2","depth":2,"path":"cms/pages.md","ref":"cms/pages.md","articles":[]},{"title":"Sections","level":"1.5.3","depth":2,"path":"cms/sections.md","ref":"cms/sections.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["-sharing","versions","todo","github","prism","-highlight","youtube","simple-page-toc","theme-vuejs@git+https://github.com/pearofducks/gitbook-plugin-theme-vuejs.git","-fontsettings"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"youtube":{},"github":{"url":"https://github.com/datamosaic/sutra-cms/"},"simple-page-toc":{"maxDepth":4,"skipFirstH1":true},"todo":{},"search":{},"theme-vuejs":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"versions":{"type":"branches","gitbookConfigURL":"./gitbook/book.json","options":[{"value":"","text":"Wakanda 10","selected":true}]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Sutra CMS","gitbook":"*","Description":"Sutra CMS developer documentation"},"file":{"path":"cms/themes.md","mtime":"2017-03-16T22:40:08.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-16T23:18:45.116Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-versions/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

